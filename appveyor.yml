# Continuous integration procedure for AppVeyor
# Based on https://github.com/rmcgibbo/python-appveyor-conda-example

environment:
  matrix:
    - APPVEYOR_BUILD_WORKER_IMAGE: Miniconda2 4.5.1 x64
      PYTHON: "C:\\Miniconda-x64"
      PYTHON_VERSION: "2.7"
      PYTHON_ARCH: "64"
      CONDA_PY: "27"

    - APPVEYOR_BUILD_WORKER_IMAGE: Miniconda3 4.5.1 x64
      PYTHON: "C:\\Miniconda-x64"
      PYTHON_VERSION: "3.6"
      PYTHON_ARCH: "64"
      CONDA_PY: "36"


install:
  # this installs the appropriate Miniconda (Py2/Py3, 32/64 bit)
  # - powershell .\\ci\\appveyor\\install.ps1
  - powershell .\\ci\\appveyor\\install-gams.ps1
  # - "SET PATH=%PYTHON%;%PYTHON%\\Scripts;%PATH%"

  # Dependencies and package install
  - conda install --yes ixmp pytest
  - python setup.py install

build: false

test_script:
  - pytest -v tests

on_success:
  - echo Build succesful!
